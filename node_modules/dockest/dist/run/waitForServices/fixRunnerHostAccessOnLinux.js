"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("../../constants");
const execaWrapper_1 = require("../../utils/execaWrapper");
exports.fixRunnerHostAccessOnLinux = async ({ containerId, logger }) => {
    const command = `docker exec ${containerId} \
                    /bin/sh -c "ip -4 route list match 0/0 \
                    | awk '{print \\$3\\" ${constants_1.DEFAULT_HOST_NAME}\\"}' \
                    >> /etc/hosts"`;
    try {
        execaWrapper_1.execaWrapper(command);
    }
    catch (err) {
        logger.debug('Fixing the host container access failed. This could be related to the container having already been stopped');
    }
};
//# sourceMappingURL=fixRunnerHostAccessOnLinux.js.map