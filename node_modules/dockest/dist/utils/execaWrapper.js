"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const execa_1 = __importDefault(require("execa")); // eslint-disable-line import/default
const trim_1 = require("./trim");
const Logger_1 = require("../Logger");
exports.execaWrapper = (command, { runner, logPrefix = '[Shell]', logStdout = false, execaOpts = {} } = {}) => {
    const trimmedCommand = trim_1.trim(command);
    const logger = runner ? runner.logger : Logger_1.Logger;
    logger.debug(`${logPrefix} <${trimmedCommand}>`);
    const result = execa_1.default.commandSync(trimmedCommand, {
        shell: true,
        ...execaOpts,
    });
    logStdout && logger.debug(`${logPrefix} Success (${result.stdout})`, { success: true });
    return result;
};
//# sourceMappingURL=execaWrapper.js.map